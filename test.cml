import math;
import io;
import os;

struct Location
{
	char* file,
	s32 startLine,
	s32 endLine,
	s32 startColumn,
	s32 endColumn,
}

namespace std {
	external void print(char* data);
	external int add(int a, int b);
}
external void* stackAlloc(s32 size);
external void intToStr(char* dst, int num);


void main()
{
	std.print("Hello world!!!\n\n\n\n");

	Location nowhere = {
		file = (char*)0,
		startLine = -1,
		endLine = -1,
		startColumn = -1,
		endColumn = -1,
	};

	printLocation(&nowhere);

	setExitCode(1);
}

s32 printLocation(Location* loc)
{
	char* str = stackAlloc(sizeof(char) * 1000);
	int i = 0;
	if (loc.file) {
		i += strLen(file);
		memCopy(str, file, i, 0);
	}
	intToStr(loc.startLine, str + i);
	i += strLen(str + i);

	str[i] = ':';
	i++;
	
	intToStr(loc.startColumn, str + i);
	i += strLen(str + i);

	str[i] = '-';
	i++;
	
	intToStr(loc.endLine, str + i);
	i += strLen(str + i);

	str[i] = ':';
	i++;
	
	intToStr(loc.endColumn, str + i);
	i += strLen(str + i);

	std.print(str);
	std.print("\n");


	return 0;
}

int strLen(char* str) {
	int len;
	len = -1;
	while(str[++len]);
	retturn len;
}