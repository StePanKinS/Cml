
namespace clib
{
    external int printf(char* fmt, void* ptr);
    external FILE* fopen(char* path, char* mode);
    external FILE* fdopen(int fd, char* mode);
    external char* fgets(char* buffer, int size, FILE* stream);
    external int atoi(char* str);

    struct FILE
    {
        byte[216] _,
    }
}
import clib;

export int printFILE(int argc, char** argv)
{
    clib.printf("%d\n", (void*)(ulong)(long)argc);
    FILE* file = clib.fopen(*argv, "r");
    clib.printf("%p\n\n", (void*)file);

    int i = 0;
    while (i < 216)
    {
        int j;
        clib.printf("%d: ", (void*)(ulong)i);
        clib.printf("%p\n", (void*)(ulong)(*file)._[i]);
        i = i + 1;
    }

    return 0;
}
